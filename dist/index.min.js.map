{"version":3,"sources":["webpack:///dist/index.min.js","webpack:///webpack/bootstrap ae4b7a3ccb05d5eef4e2","webpack:///./src/index.js","webpack:///./~/amp-extend/extend.js","webpack:///./~/amp-is-object/is-object.js","webpack:///./~/amp-merge/merge.js","webpack:///./src/cmp.js","webpack:///./src/dealer-gtm.js","webpack:///./src/gtm/getGtmContainerId.js","webpack:///./src/gtm/googletagmanager.js","webpack:///./src/gtm/index.js","webpack:///./src/gtm/viewport.js","webpack:///./src/liveramp-stub.js","webpack:///./src/trackingElement.js","webpack:///./src/util.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","trackingEnabled","location","hash","indexOf","startTracking","href","processCommand","data","fn","args","gtm","setPagename","slice","apply","dealerGtm","ut","window","push","Array","prototype","arguments","forEach","cmp","run","isCmpEnabled","loadCmpStub","loadCmp","console","log","isObject","obj","source","prop","i","length","_typeof","Symbol","iterator","constructor","type","extend","unshift","this","_require","once","cmpDecisionLocalStorageKey","script","document","createElement","ref","getElementsByTagName","parentNode","insertBefore","src","hasLocalCmpDecision","localStorage","getItem","waitForFirstCmpDecision","Promise","resolve","handler","e","__cmp","d","updateCachedDecisionWhenItChanges","vendorConsents","updateLocalCmpDecision","sendDecisionToDataLayer","add","currentVehicles","commit","dataLayer","list_productidsall","containerIdsByTld","de","at","be","lu","es","fr","it","nl","com","hostname","tld","split","pop","toLower","val","toLowerCase","useNewArrayLogic","loadContainer","containerId","gtmAlreadyLoadedClassName","alreadyInitiatedMainGtmContainerLoaded","documentElement","className","w","s","l","gtm.start","Date","getTime","event","f","j","dl","async","map","key","pn","pagename","generateCommonParams","mergedPagename","merge","country","market","category","pageid","environment","Error","JSON","stringify","commonPageName","group","filter","x","join","layer","commonData","common_country","common_market","common_category","common_pageid","common_pageName","common_environment","common_language","language","common_group","common_layer","common_attribute","attribute","common_linkgroup","linkgroup","common_linkid","linkid","common_techState","techState","trackClick","params","eventcategory","eventaction","event_category","event_action","event_label","eventlabel","event_non_interaction","trackPageview","firstPageview","viewport","setTimeout","set","pageview","click","viewportWidth","Math","min","clientWidth","innerWidth","screen","width","session_viewport","faktorCmpStart","start","addLocatorFrame","frames","body","frame","style","display","name","appendChild","listen","attachEvent","addEventListener","receiveMessage","commandQueue","command","parameter","callback","gdprAppliesGlobally","config","storeConsentGlobally","cmpLoaded","__cmpCall","callId","_extends","Object","assign","target","hasOwnProperty","as24tracking","create","HTMLElement","inDev","supportedActions","supportedTypes","reservedWords","attachedCallback","_this","values","getAdditionalProperties","getAttribute","action","keys","splice","clickTarget","elements","querySelectorAll","track","_this2","trackingValue","parse","isArray","attributes","element","nodeName","reduce","prev","curr","attrName","decodeAttributeName","nodeValue","replace","g","toUpperCase","ctor","HTMLUnknownElement","registerElement","warn","executed"],"mappings":"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","file":"./dist/index.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar trackingEnabled = location.hash.indexOf('tracking-off=true') < 0;\n\tvar cmpEnabled = location.href.indexOf('__cmp') >= 0;\n\t// const alreadyHaveConsent\n\t\n\tvar startTracking = function startTracking() {\n\t    var gtm = __webpack_require__(8);\n\t    var dealerGtm = __webpack_require__(5);\n\t\n\t    function processCommand(data) {\n\t        var fn, args;\n\t\n\t        if (data[0] === 'pagename') {\n\t            gtm.setPagename(data[1]);\n\t        }\n\t\n\t        if (data[0] === 'gtm') {\n\t            fn = gtm[data[1]];\n\t            args = data.slice(2);\n\t            if (typeof fn === 'function') {\n\t                fn.apply(gtm, args);\n\t            }\n\t        } else if (data[0] === 'dealer-gtm') {\n\t            fn = dealerGtm[data[1]];\n\t            args = data.slice(2);\n\t            if (typeof fn === 'function') {\n\t                fn.apply(dealerGtm, args);\n\t            }\n\t        }\n\t    }\n\t\n\t    var ut = window.ut || (window.ut = []);\n\t\n\t    if (ut.push === Array.prototype.push) {\n\t        ut.push = function () {\n\t            Array.prototype.push.apply(window.ut, arguments);\n\t            processCommand.apply({}, arguments);\n\t        };\n\t\n\t        ut.forEach(processCommand);\n\t    }\n\t\n\t    __webpack_require__(11);\n\t\n\t    module.exports = {\n\t        gtm: gtm,\n\t        ut: ut\n\t    };\n\t};\n\t\n\tvar cmp = __webpack_require__(4);\n\t\n\tvar run = function run() {\n\t    if (!trackingEnabled) {\n\t        console.log('Tracking disabled');\n\t        return;\n\t    }\n\t\n\t    if (!cmp.isCmpEnabled()) {\n\t        startTracking();\n\t        return;\n\t    }\n\t\n\t    // We load the CMP and do some magic here\n\t    cmp.loadCmpStub();\n\t    cmp.loadCmp();\n\t\n\t    // Either wait for consent/dissent\n\t    // OR load cached consent object and put it into dataLayer variables\n\t\n\t    // if (cmp.hasLocalCmpDecision()) {\n\t    //     console.log('Has CMP decision');\n\t    //     startTracking();\n\t    //     return;\n\t    // }\n\t\n\t    // cmp.updateCachedDecisionWhenItChanges();\n\t\n\t    // cmp.waitForFirstCmpDecision().then(() => {\n\t    //     console.log('Got first decision');\n\t    //     cmp.updateLocalCmpDecision().then(() => {\n\t    //         console.log('localStorage updated');\n\t    //         startTracking();\n\t    //     });\n\t    // });\n\t};\n\t\n\trun();\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isObject = __webpack_require__(2);\n\t\n\tmodule.exports = function (obj) {\n\t    if (!isObject(obj)) return obj;\n\t    var source, prop;\n\t    for (var i = 1, length = arguments.length; i < length; i++) {\n\t        source = arguments[i];\n\t        for (prop in source) {\n\t            obj[prop] = source[prop];\n\t        }\n\t    }\n\t    return obj;\n\t};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tmodule.exports = function isObject(obj) {\n\t    var type = typeof obj === 'undefined' ? 'undefined' : _typeof(obj);\n\t    return !!obj && (type === 'function' || type === 'object');\n\t};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar extend = __webpack_require__(1);\n\t\n\tmodule.exports = function merge() {\n\t    var args = [].slice.call(arguments);\n\t    args.unshift({});\n\t    return extend.apply(this, args);\n\t};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _require = __webpack_require__(12),\n\t    once = _require.once;\n\t\n\tvar cmpDecisionLocalStorageKey = '__as24_cmp_decision__';\n\t\n\tmodule.exports.loadCmpStub = function () {\n\t    __webpack_require__(10);\n\t};\n\t\n\tmodule.exports.loadCmp = once(function () {\n\t    var script = document.createElement('script');\n\t    var ref = document.getElementsByTagName('script')[0];\n\t    ref.parentNode.insertBefore(script, ref);\n\t    script.src = 'https://config-prod.choice.faktor.io/aee4fbca-111d-4361-9156-aa2aaf12856c/faktor.js';\n\t});\n\t\n\tmodule.exports.isCmpEnabled = function () {\n\t    return location.href.indexOf('__cmp') >= 0;\n\t};\n\t\n\tmodule.exports.hasLocalCmpDecision = function () {\n\t    return !!localStorage.getItem(cmpDecisionLocalStorageKey);\n\t};\n\t\n\tmodule.exports.waitForFirstCmpDecision = function () {\n\t    return new Promise(function (resolve) {\n\t        var handler = function handler(e) {\n\t            window.__cmp('consentDataExist', null, function (d) {\n\t                if (d === true) {\n\t                    window.__cmp('removeEventListener', 'consentChanged', handler);\n\t                    resolve();\n\t                }\n\t            });\n\t        };\n\t\n\t        window.__cmp('addEventListener', 'consentChanged', handler);\n\t    });\n\t};\n\t\n\tmodule.exports.updateCachedDecisionWhenItChanges = function () {\n\t    window.__cmp('addEventListener', 'consentChanged', function (e) {\n\t        window.__cmp('getVendorConsents', null, function (vendorConsents) {\n\t            console.log(vendorConsents);\n\t        });\n\t    });\n\t};\n\t\n\tmodule.exports.updateLocalCmpDecision = function () {\n\t    return new Promise(function (resolve) {\n\t        // todo\n\t    });\n\t};\n\t\n\tmodule.exports.sendDecisionToDataLayer = function () {\n\t    // todo\n\t};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar currentVehicles = [];\n\t\n\tfunction add(data) {\n\t    currentVehicles.push(data);\n\t}\n\t\n\tfunction commit() {\n\t    window.dataLayer = window.dataLayer || [];\n\t    window.dataLayer.push({\n\t        list_productidsall: currentVehicles\n\t    });\n\t\n\t    currentVehicles = [];\n\t}\n\t\n\tmodule.exports = {\n\t    add: add,\n\t    commit: commit\n\t};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar containerIdsByTld = {\n\t    de: 'GTM-MK57H2',\n\t    at: 'GTM-WBZ87G',\n\t    be: 'GTM-5BWB2M',\n\t    lu: 'GTM-NDBDCZ',\n\t    es: 'GTM-PS6QHN',\n\t    fr: 'GTM-PD93LD',\n\t    it: 'GTM-WTCSNR',\n\t    nl: 'GTM-TW48BJ',\n\t    com: 'GTM-KWX9NX'\n\t};\n\t\n\tmodule.exports = function (hostname) {\n\t    var tld = hostname.split('.').pop();\n\t    return containerIdsByTld[tld] || containerIdsByTld['com'];\n\t};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar dataLayer = window.dataLayer = window.dataLayer || [];\n\tvar useNewArrayLogic = window.location.href.indexOf('tracking-arrays=true') >= 0;\n\t\n\tmodule.exports = {\n\t    loadContainer: function loadContainer(containerId) {\n\t        var gtmAlreadyLoadedClassName = 'gtm-main-container-load-initiated';\n\t        var alreadyInitiatedMainGtmContainerLoaded = document.documentElement.className.indexOf(gtmAlreadyLoadedClassName) >= 0;\n\t\n\t        if (alreadyInitiatedMainGtmContainerLoaded) {\n\t            // preventing duplicated load of main GTM container\n\t            return;\n\t        }\n\t\n\t        document.documentElement.className += ' ' + gtmAlreadyLoadedClassName;\n\t\n\t        (function (w, d, s, l, i) {\n\t            w[l] = w[l] || [];\n\t            w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\n\t            var f = d.getElementsByTagName(s)[0],\n\t                j = d.createElement(s),\n\t                dl = l != 'dataLayer' ? '&l=' + l : '';\n\t            j.async = true;\n\t            j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;\n\t            f.parentNode.insertBefore(j, f);\n\t        })(window, document, 'script', 'dataLayer', containerId);\n\t    },\n\t\n\t    push: function push() {\n\t        if (!arguments.length) {\n\t            return;\n\t        }\n\t\n\t        var args = [].slice.call(arguments);\n\t\n\t        args.map(function (data) {\n\t            for (var key in data) {\n\t                if (!useNewArrayLogic || typeof data[key] === 'string') {\n\t                    data[key] = toLower(data[key]);\n\t                }\n\t            }\n\t\n\t            return data;\n\t        });\n\t\n\t        dataLayer.push.apply(dataLayer, args);\n\t    }\n\t};\n\t\n\tfunction toLower(val) {\n\t    return val && ('' + val).toLowerCase();\n\t}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar merge = __webpack_require__(3);\n\t\n\tvar gtm = __webpack_require__(7);\n\tvar containerId = __webpack_require__(6)(location.hostname);\n\tvar viewport = __webpack_require__(9);\n\t\n\tvar pagename;\n\t\n\tfunction setPagename(pn) {\n\t    pagename = pn;\n\t}\n\t\n\tfunction generateCommonParams(data) {\n\t    var mergedPagename = merge({}, pagename, data);\n\t\n\t    if (!mergedPagename || !mergedPagename.country || !mergedPagename.market || !mergedPagename.category || !mergedPagename.pageid || !mergedPagename.environment) {\n\t        if (mergedPagename.environment !== 'test' || mergedPagename.environment !== 'live') {\n\t            throw new Error('Invalid environment type, ' + JSON.stringify(mergedPagename));\n\t        }\n\t        throw new Error('Incorrect pagename, ' + JSON.stringify(mergedPagename));\n\t    }\n\t\n\t    var commonPageName = [mergedPagename.country, mergedPagename.market, mergedPagename.category, mergedPagename.group, mergedPagename.pageid].filter(function (x) {\n\t        return x;\n\t    }).join('/');\n\t\n\t    if (mergedPagename.layer) {\n\t        commonPageName += '|' + mergedPagename.layer;\n\t    }\n\t\n\t    var commonData = {\n\t        common_country: mergedPagename.country,\n\t        common_market: mergedPagename.market,\n\t        common_category: mergedPagename.category,\n\t        common_pageid: mergedPagename.pageid,\n\t        common_pageName: commonPageName,\n\t        common_environment: mergedPagename.environment,\n\t\n\t        common_language: mergedPagename.language || '',\n\t        common_group: mergedPagename.group || '',\n\t        common_layer: mergedPagename.layer || '',\n\t        common_attribute: mergedPagename.attribute || '',\n\t\n\t        common_linkgroup: mergedPagename.linkgroup || '',\n\t        common_linkid: mergedPagename.linkid || '',\n\t\n\t        common_techState: mergedPagename.techState || ''\n\t    };\n\t\n\t    return commonData;\n\t}\n\t\n\tfunction trackClick(params) {\n\t    if (params.eventcategory && params.eventaction) {\n\t        gtm.push({\n\t            event: 'event_trigger',\n\t            event_category: params.eventcategory,\n\t            event_action: params.eventaction,\n\t            event_label: params.eventlabel || '',\n\t            event_non_interaction: false\n\t        });\n\t    } else {\n\t        //DEPRECATED\n\t        gtm.push(generateCommonParams(params));\n\t        gtm.push({\n\t            event: 'click'\n\t        });\n\t    }\n\t}\n\t\n\tvar firstPageview = true;\n\t\n\tfunction trackPageview(data) {\n\t    if (firstPageview) {\n\t        gtm.push(viewport);\n\t    }\n\t\n\t    gtm.push(generateCommonParams(data));\n\t\n\t    setTimeout(function () {\n\t        if (firstPageview) {\n\t            gtm.loadContainer(containerId);\n\t\n\t            gtm.push({\n\t                event: 'common_data_ready'\n\t            });\n\t            gtm.push({\n\t                event: 'data_ready'\n\t            });\n\t            firstPageview = false;\n\t        } else {\n\t            gtm.push({\n\t                event: 'pageview'\n\t            });\n\t        }\n\t    }, 10);\n\t}\n\t\n\tmodule.exports = {\n\t    setPagename: setPagename,\n\t    trackClick: trackClick,\n\t\n\t    set: gtm.push,\n\t    pageview: trackPageview,\n\t    click: trackClick\n\t};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar viewportWidth = Math.min(document.documentElement.clientWidth, window.innerWidth || screen.width);\n\t\n\tmodule.exports = {\n\t    session_viewport: viewportWidth >= 994 ? 'l' : viewportWidth >= 768 ? 'm' : viewportWidth >= 480 ? 's' : 'xs'\n\t};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tif (!window.__cmp || typeof window.__cmp !== 'function') {\n\t    var faktorCmpStart = window.__cmp ? window.__cmp.start : {};\n\t\n\t    window.__cmp = function () {\n\t        var listen = window.attachEvent || window.addEventListener;\n\t        listen('message', function (event) {\n\t            window.__cmp.receiveMessage(event);\n\t        });\n\t\n\t        function addLocatorFrame() {\n\t            if (!window.frames['__cmpLocator']) {\n\t                if (document.body) {\n\t                    var frame = document.createElement('iframe');\n\t                    frame.style.display = 'none';\n\t                    frame.name = '__cmpLocator';\n\t                    document.body.appendChild(frame);\n\t                } else {\n\t                    setTimeout(addLocatorFrame, 5);\n\t                }\n\t            }\n\t        }\n\t\n\t        addLocatorFrame();\n\t\n\t        var commandQueue = [];\n\t        var cmp = function cmp(command, parameter, callback) {\n\t            if (command === 'ping') {\n\t                if (callback) {\n\t                    callback({\n\t                        gdprAppliesGlobally: !!(window.__cmp && window.__cmp.config && window.__cmp.config.storeConsentGlobally),\n\t                        cmpLoaded: false\n\t                    });\n\t                }\n\t            } else {\n\t                commandQueue.push({\n\t                    command: command,\n\t                    parameter: parameter,\n\t                    callback: callback\n\t                });\n\t            }\n\t        };\n\t        cmp.commandQueue = commandQueue;\n\t        cmp.receiveMessage = function (event) {\n\t            var data = event && event.data && event.data.__cmpCall;\n\t            if (data) {\n\t                commandQueue.push({\n\t                    callId: data.callId,\n\t                    command: data.command,\n\t                    parameter: data.parameter,\n\t                    event: event\n\t                });\n\t            }\n\t        };\n\t\n\t        return cmp;\n\t    }();\n\t\n\t    window.__cmp.start = faktorCmpStart;\n\t}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar as24tracking = _extends(Object.create(HTMLElement.prototype), {\n\t    inDev: false,\n\t    supportedActions: ['set', 'click', 'pageview'],\n\t    supportedTypes: ['gtm', 'pagename'],\n\t    reservedWords: ['type', 'action', 'as24-tracking-value', 'as24-tracking-click-target'],\n\t\n\t    attachedCallback: function attachedCallback() {\n\t        var _this = this;\n\t\n\t        var values = this.getAdditionalProperties();\n\t        var type = this.getAttribute('type');\n\t        var action = this.getAttribute('action');\n\t        var args = [type, action];\n\t\n\t        if (Object.keys(values).length > 0) {\n\t            args.push(values);\n\t        }\n\t\n\t        if (type === 'pagename') {\n\t            args.splice(1, 1);\n\t        }\n\t\n\t        var clickTarget = this.getAttribute('as24-tracking-click-target');\n\t        if (clickTarget) {\n\t            var elements = document.querySelectorAll(clickTarget);\n\t\n\t            for (var i = 0; i < elements.length; i++) {\n\t                elements[i].addEventListener('click', function () {\n\t                    return _this.track(args);\n\t                });\n\t            }\n\t        } else {\n\t            this.track(args);\n\t        }\n\t    },\n\t    getAdditionalProperties: function getAdditionalProperties() {\n\t        var _this2 = this;\n\t\n\t        var trackingValue = this.getAttribute('as24-tracking-value');\n\t        var values = trackingValue ? JSON.parse(trackingValue) : {};\n\t\n\t        if (Array.isArray(values)) {\n\t            return values;\n\t        }\n\t\n\t        return Array.prototype.slice.call(this.attributes).filter(function (element) {\n\t            return !(_this2.reservedWords.indexOf(element.nodeName) > -1);\n\t        }).reduce(function (prev, curr) {\n\t            var attrName = _this2.decodeAttributeName(curr.nodeName);\n\t            prev[attrName] = curr.nodeValue;\n\t            return prev;\n\t        }, values);\n\t    },\n\t    decodeAttributeName: function decodeAttributeName(attrName) {\n\t        if (attrName.indexOf('-') > -1) {\n\t            attrName = attrName.replace(/-([a-z])/g, function (g) {\n\t                return g[1].toUpperCase();\n\t            });\n\t        }\n\t        return attrName;\n\t    },\n\t    track: function track(args) {\n\t        if (this.inDev) {\n\t            console.log(args);\n\t        } else {\n\t            window.ut = window.ut || [];\n\t            window.ut.push(args);\n\t        }\n\t    }\n\t});\n\t\n\ttry {\n\t    var ctor = document.createElement('as24-tracking').constructor;\n\t    if (ctor === HTMLElement || ctor === HTMLUnknownElement) {\n\t        document.registerElement('as24-tracking', {\n\t            prototype: as24tracking\n\t        });\n\t    }\n\t} catch (e) {\n\t    if (window && window.console) {\n\t        window.console.warn('Failed to register CustomElement \"as24-tracking\".', e);\n\t    }\n\t}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports.once = function (fn) {\n\t    var executed = false;\n\t    return function () {\n\t        if (!executed) {\n\t            executed = true;\n\t            fn();\n\t        }\n\t    };\n\t};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dist/index.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ae4b7a3ccb05d5eef4e2","const trackingEnabled = location.hash.indexOf('tracking-off=true') < 0;\nconst cmpEnabled = location.href.indexOf('__cmp') >= 0;\n// const alreadyHaveConsent\n\nconst startTracking = () => {\n    var gtm = require('./gtm');\n    var dealerGtm = require('./dealer-gtm');\n\n    function processCommand(data) {\n        var fn, args;\n\n        if (data[0] === 'pagename') {\n            gtm.setPagename(data[1]);\n        }\n\n        if (data[0] === 'gtm') {\n            fn = gtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(gtm, args);\n            }\n        } else if (data[0] === 'dealer-gtm') {\n            fn = dealerGtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(dealerGtm, args);\n            }\n        }\n    }\n\n    var ut = window.ut || (window.ut = []);\n\n    if (ut.push === Array.prototype.push) {\n        ut.push = function () {\n            Array.prototype.push.apply(window.ut, arguments);\n            processCommand.apply({}, arguments);\n        };\n\n        ut.forEach(processCommand);\n    }\n\n    require('./trackingElement');\n\n    module.exports = {\n        gtm: gtm,\n        ut: ut,\n    };\n};\n\nconst cmp = require('./cmp');\n\nconst run = () => {\n    if (!trackingEnabled) {\n        console.log('Tracking disabled');\n        return;\n    }\n\n    if (!cmp.isCmpEnabled()) {\n        startTracking();\n        return;\n    }\n\n    // We load the CMP and do some magic here\n    cmp.loadCmpStub();\n    cmp.loadCmp();\n\n    // Either wait for consent/dissent\n    // OR load cached consent object and put it into dataLayer variables\n\n    // if (cmp.hasLocalCmpDecision()) {\n    //     console.log('Has CMP decision');\n    //     startTracking();\n    //     return;\n    // }\n\n    // cmp.updateCachedDecisionWhenItChanges();\n\n    // cmp.waitForFirstCmpDecision().then(() => {\n    //     console.log('Got first decision');\n    //     cmp.updateLocalCmpDecision().then(() => {\n    //         console.log('localStorage updated');\n    //         startTracking();\n    //     });\n    // });\n};\n\nrun();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var isObject = require('amp-is-object');\n\n\nmodule.exports = function(obj) {\n    if (!isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            obj[prop] = source[prop];\n        }\n    }\n    return obj;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-extend/extend.js","module.exports = function isObject(obj) {\n    var type = typeof obj;\n    return !!obj && (type === 'function' || type === 'object');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-is-object/is-object.js","var extend = require('amp-extend');\n\nmodule.exports = function merge() {\n    var args = [].slice.call(arguments);\n    args.unshift({});\n    return extend.apply(this, args);\n};\n\n\n// WEBPACK FOOTER //\n// ./~/amp-merge/merge.js","const { once } = require('./util');\n\nconst cmpDecisionLocalStorageKey = '__as24_cmp_decision__';\n\nmodule.exports.loadCmpStub = () => {\n    require('./liveramp-stub');\n};\n\nmodule.exports.loadCmp = once(() => {\n    const script = document.createElement('script');\n    const ref = document.getElementsByTagName('script')[0];\n    ref.parentNode.insertBefore(script, ref);\n    script.src = 'https://config-prod.choice.faktor.io/aee4fbca-111d-4361-9156-aa2aaf12856c/faktor.js';\n});\n\nmodule.exports.isCmpEnabled = () => {\n    return location.href.indexOf('__cmp') >= 0;\n};\n\nmodule.exports.hasLocalCmpDecision = () => {\n    return !!localStorage.getItem(cmpDecisionLocalStorageKey);\n};\n\nmodule.exports.waitForFirstCmpDecision = () => {\n    return new Promise((resolve) => {\n        const handler = (e) => {\n            window.__cmp('consentDataExist', null, (d) => {\n                if (d === true) {\n                    window.__cmp('removeEventListener', 'consentChanged', handler);\n                    resolve();\n                }\n            });\n        };\n\n        window.__cmp('addEventListener', 'consentChanged', handler);\n    });\n};\n\nmodule.exports.updateCachedDecisionWhenItChanges = () => {\n    window.__cmp('addEventListener', 'consentChanged', (e) => {\n        window.__cmp('getVendorConsents', null, function (vendorConsents) {\n            console.log(vendorConsents);\n        });\n    });\n};\n\nmodule.exports.updateLocalCmpDecision = () => {\n    return new Promise((resolve) => {\n        // todo\n    });\n};\n\nmodule.exports.sendDecisionToDataLayer = () => {\n    // todo\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/cmp.js","var currentVehicles = [];\n\nfunction add(data) {\n    currentVehicles.push(data);\n}\n\nfunction commit() {\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push({\n        list_productidsall: currentVehicles,\n    });\n\n    currentVehicles = [];\n}\n\nmodule.exports = {\n    add: add,\n    commit: commit,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/dealer-gtm.js","var containerIdsByTld = {\n    de: 'GTM-MK57H2',\n    at: 'GTM-WBZ87G',\n    be: 'GTM-5BWB2M',\n    lu: 'GTM-NDBDCZ',\n    es: 'GTM-PS6QHN',\n    fr: 'GTM-PD93LD',\n    it: 'GTM-WTCSNR',\n    nl: 'GTM-TW48BJ',\n    com: 'GTM-KWX9NX',\n};\n\nmodule.exports = function (hostname) {\n    var tld = hostname.split('.').pop();\n    return containerIdsByTld[tld] || containerIdsByTld['com'];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/getGtmContainerId.js","var dataLayer = (window.dataLayer = window.dataLayer || []);\nvar useNewArrayLogic = window.location.href.indexOf('tracking-arrays=true') >= 0;\n\nmodule.exports = {\n    loadContainer: function (containerId) {\n        var gtmAlreadyLoadedClassName = 'gtm-main-container-load-initiated';\n        var alreadyInitiatedMainGtmContainerLoaded =\n            document.documentElement.className.indexOf(gtmAlreadyLoadedClassName) >= 0;\n\n        if (alreadyInitiatedMainGtmContainerLoaded) {\n            // preventing duplicated load of main GTM container\n            return;\n        }\n\n        document.documentElement.className += ' ' + gtmAlreadyLoadedClassName;\n\n        (function (w, d, s, l, i) {\n            w[l] = w[l] || [];\n            w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\n            var f = d.getElementsByTagName(s)[0],\n                j = d.createElement(s),\n                dl = l != 'dataLayer' ? '&l=' + l : '';\n            j.async = true;\n            j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;\n            f.parentNode.insertBefore(j, f);\n        })(window, document, 'script', 'dataLayer', containerId);\n    },\n\n    push: function () {\n        if (!arguments.length) {\n            return;\n        }\n\n        var args = [].slice.call(arguments);\n\n        args.map(function (data) {\n            for (var key in data) {\n                if (!useNewArrayLogic || typeof data[key] === 'string') {\n                    data[key] = toLower(data[key]);\n                }\n            }\n\n            return data;\n        });\n\n        dataLayer.push.apply(dataLayer, args);\n    },\n};\n\nfunction toLower(val) {\n    return val && ('' + val).toLowerCase();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/googletagmanager.js","var merge = require('amp-merge');\n\nvar gtm = require('./googletagmanager');\nvar containerId = require('./getGtmContainerId')(location.hostname);\nvar viewport = require('./viewport');\n\nvar pagename;\n\nfunction setPagename(pn) {\n    pagename = pn;\n}\n\nfunction generateCommonParams(data) {\n    var mergedPagename = merge({}, pagename, data);\n\n    if (\n        !mergedPagename ||\n        !mergedPagename.country ||\n        !mergedPagename.market ||\n        !mergedPagename.category ||\n        !mergedPagename.pageid ||\n        !mergedPagename.environment\n    ) {\n        if (mergedPagename.environment !== 'test' || mergedPagename.environment !== 'live') {\n            throw new Error('Invalid environment type, ' + JSON.stringify(mergedPagename));\n        }\n        throw new Error('Incorrect pagename, ' + JSON.stringify(mergedPagename));\n    }\n\n    var commonPageName = [\n        mergedPagename.country,\n        mergedPagename.market,\n        mergedPagename.category,\n        mergedPagename.group,\n        mergedPagename.pageid,\n    ]\n        .filter(function (x) {\n            return x;\n        })\n        .join('/');\n\n    if (mergedPagename.layer) {\n        commonPageName += '|' + mergedPagename.layer;\n    }\n\n    var commonData = {\n        common_country: mergedPagename.country,\n        common_market: mergedPagename.market,\n        common_category: mergedPagename.category,\n        common_pageid: mergedPagename.pageid,\n        common_pageName: commonPageName,\n        common_environment: mergedPagename.environment,\n\n        common_language: mergedPagename.language || '',\n        common_group: mergedPagename.group || '',\n        common_layer: mergedPagename.layer || '',\n        common_attribute: mergedPagename.attribute || '',\n\n        common_linkgroup: mergedPagename.linkgroup || '',\n        common_linkid: mergedPagename.linkid || '',\n\n        common_techState: mergedPagename.techState || '',\n    };\n\n    return commonData;\n}\n\nfunction trackClick(params) {\n    if (params.eventcategory && params.eventaction) {\n        gtm.push({\n            event: 'event_trigger',\n            event_category: params.eventcategory,\n            event_action: params.eventaction,\n            event_label: params.eventlabel || '',\n            event_non_interaction: false,\n        });\n    } else {\n        //DEPRECATED\n        gtm.push(generateCommonParams(params));\n        gtm.push({\n            event: 'click',\n        });\n    }\n}\n\nvar firstPageview = true;\n\nfunction trackPageview(data) {\n    if (firstPageview) {\n        gtm.push(viewport);\n    }\n\n    gtm.push(generateCommonParams(data));\n\n    setTimeout(function () {\n        if (firstPageview) {\n            gtm.loadContainer(containerId);\n\n            gtm.push({\n                event: 'common_data_ready',\n            });\n            gtm.push({\n                event: 'data_ready',\n            });\n            firstPageview = false;\n        } else {\n            gtm.push({\n                event: 'pageview',\n            });\n        }\n    }, 10);\n}\n\nmodule.exports = {\n    setPagename: setPagename,\n    trackClick: trackClick,\n\n    set: gtm.push,\n    pageview: trackPageview,\n    click: trackClick,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/index.js","var viewportWidth = Math.min(document.documentElement.clientWidth, window.innerWidth || screen.width);\n\nmodule.exports = {\n    session_viewport: viewportWidth >= 994 ? 'l' : viewportWidth >= 768 ? 'm' : viewportWidth >= 480 ? 's' : 'xs',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/viewport.js","if (!window.__cmp || typeof window.__cmp !== 'function') {\n    var faktorCmpStart = window.__cmp ? window.__cmp.start : {};\n\n    window.__cmp = (function () {\n        var listen = window.attachEvent || window.addEventListener;\n        listen('message', function (event) {\n            window.__cmp.receiveMessage(event);\n        });\n\n        function addLocatorFrame() {\n            if (!window.frames['__cmpLocator']) {\n                if (document.body) {\n                    var frame = document.createElement('iframe');\n                    frame.style.display = 'none';\n                    frame.name = '__cmpLocator';\n                    document.body.appendChild(frame);\n                } else {\n                    setTimeout(addLocatorFrame, 5);\n                }\n            }\n        }\n\n        addLocatorFrame();\n\n        var commandQueue = [];\n        var cmp = function (command, parameter, callback) {\n            if (command === 'ping') {\n                if (callback) {\n                    callback({\n                        gdprAppliesGlobally: !!(\n                            window.__cmp &&\n                            window.__cmp.config &&\n                            window.__cmp.config.storeConsentGlobally\n                        ),\n                        cmpLoaded: false,\n                    });\n                }\n            } else {\n                commandQueue.push({\n                    command: command,\n                    parameter: parameter,\n                    callback: callback,\n                });\n            }\n        };\n        cmp.commandQueue = commandQueue;\n        cmp.receiveMessage = function (event) {\n            var data = event && event.data && event.data.__cmpCall;\n            if (data) {\n                commandQueue.push({\n                    callId: data.callId,\n                    command: data.command,\n                    parameter: data.parameter,\n                    event: event,\n                });\n            }\n        };\n\n        return cmp;\n    })();\n\n    window.__cmp.start = faktorCmpStart;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/liveramp-stub.js","var as24tracking = Object.assign(Object.create(HTMLElement.prototype), {\n    inDev: false,\n    supportedActions: ['set', 'click', 'pageview'],\n    supportedTypes: ['gtm', 'pagename'],\n    reservedWords: ['type', 'action', 'as24-tracking-value', 'as24-tracking-click-target'],\n\n    attachedCallback() {\n        var values = this.getAdditionalProperties();\n        var type = this.getAttribute('type');\n        var action = this.getAttribute('action');\n        var args = [type, action];\n\n        if (Object.keys(values).length > 0) {\n            args.push(values);\n        }\n\n        if (type === 'pagename') {\n            args.splice(1, 1);\n        }\n\n        var clickTarget = this.getAttribute('as24-tracking-click-target');\n        if (clickTarget) {\n            var elements = document.querySelectorAll(clickTarget);\n\n            for (var i = 0; i < elements.length; i++) {\n                elements[i].addEventListener('click', () => this.track(args));\n            }\n        } else {\n            this.track(args);\n        }\n    },\n\n    getAdditionalProperties() {\n        var trackingValue = this.getAttribute('as24-tracking-value');\n        var values = trackingValue ? JSON.parse(trackingValue) : {};\n\n        if (Array.isArray(values)) {\n            return values;\n        }\n\n        return Array.prototype.slice\n            .call(this.attributes)\n            .filter((element) => !(this.reservedWords.indexOf(element.nodeName) > -1))\n            .reduce((prev, curr) => {\n                var attrName = this.decodeAttributeName(curr.nodeName);\n                prev[attrName] = curr.nodeValue;\n                return prev;\n            }, values);\n    },\n\n    decodeAttributeName(attrName) {\n        if (attrName.indexOf('-') > -1) {\n            attrName = attrName.replace(/-([a-z])/g, function (g) {\n                return g[1].toUpperCase();\n            });\n        }\n        return attrName;\n    },\n\n    track(args) {\n        if (this.inDev) {\n            console.log(args);\n        } else {\n            window.ut = window.ut || [];\n            window.ut.push(args);\n        }\n    },\n});\n\ntry {\n    var ctor = document.createElement('as24-tracking').constructor;\n    if (ctor === HTMLElement || ctor === HTMLUnknownElement) {\n        document.registerElement('as24-tracking', {\n            prototype: as24tracking,\n        });\n    }\n} catch (e) {\n    if (window && window.console) {\n        window.console.warn('Failed to register CustomElement \"as24-tracking\".', e);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/trackingElement.js","module.exports.once = (fn) => {\n    let executed = false;\n    return () => {\n        if (!executed) {\n            executed = true;\n            fn();\n        }\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js"],"sourceRoot":""}