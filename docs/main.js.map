{"version":3,"sources":["webpack:///webpack/bootstrap 3a91cc70b2840a812c21","webpack:///./docs/src/main.js","webpack:///./src/index.js","webpack:///./src/gtm/index.js","webpack:///./~/amp-merge/merge.js","webpack:///./~/amp-extend/extend.js","webpack:///./~/amp-is-object/is-object.js","webpack:///./src/gtm/googletagmanager.js","webpack:///./src/cmp.js","webpack:///./src/util.js","webpack:///./src/gtm/getGtmContainerId.js","webpack:///./src/gtm/viewport.js","webpack:///./src/dealer-gtm.js","webpack:///./src/trackingElement.js","webpack:///./src/ivw.js","webpack:///./src/oewa.js"],"names":["tracking","require","window","ut","trackingEnabled","location","hash","indexOf","startTracking","gtm","dealerGtm","processCommand","data","fn","args","setPagename","slice","apply","push","Array","prototype","arguments","forEach","module","exports","hostname","split","pop","cmp","run","console","log","__tcfapi","isCmpEnabled","dataLayer","cmp_enabled","loadCmpAsync","updateDataLayerAndCacheOnConsentChange","sendMetricsOnEvents","waitForConsentAgreementIfNeeded","then","hasGivenConsent","waitForConsentIfNeeded","merge","containerId","viewport","pagename","pn","generateCommonParams","mergedPagename","country","market","category","pageid","environment","Error","JSON","stringify","commonPageName","group","filter","x","join","layer","commonData","common_country","common_market","common_category","common_pageid","common_pageName","common_environment","common_language","language","common_group","common_layer","common_attribute","attribute","common_linkgroup","linkgroup","common_linkid","linkid","common_techState","techState","trackClick","params","eventcategory","eventaction","event","event_category","event_action","event_label","eventlabel","event_non_interaction","firstPageview","trackPageview","setTimeout","cmpEnabled","loadContainerOnlyWidthConsent","loadContainer","set","pageview","click","extend","call","unshift","isObject","obj","source","prop","i","length","type","useNewArrayLogic","href","gtmAlreadyLoadedClassName","alreadyInitiatedMainGtmContainerLoaded","document","documentElement","className","tld","callback","tcData","success","eventStatus","listenerId","purpose","consents","w","d","s","l","Date","getTime","f","getElementsByTagName","j","createElement","dl","async","src","parentNode","insertBefore","map","key","toLower","val","toLowerCase","once","consentCacheKey","isMobile","test","navigator","userAgent","optimizelyEnabled","cmpSiteIds","at","be","com","de","es","fr","it","lu","nl","script","ref","localStorage","getItem","deleteCookie","getCmpVariationData","userid","variation","__as24_cmp_userid","__as24_cmp_variation","loadCmp","setItem","__as24_cmp_opt_sendevent","url","sendBeacon","Image","ex","Promise","resolve","uuidv4","fetch","r","json","cmpSiteId","waitForIframe","cb","ifr","querySelector","isOnPrivacyInfoPage","__cmp","style","sendMetrics","userMadeDecision","trySetDataLayerVariablesFromCache","handler","e","vendorConsents","purposeConsents","hasGivenConsentGtm","additionalVendorConsents","consentDataExists","undefined","vendorData","waitForFirstCmpDecision","getAllConsents","all","setDataLayerConsents","cmpReady","exists","addEventListener","cache","parse","cookie","events","interaction","interactionEvents","facebookConsent","googleAnalyticsConsent","googleAdsConsent","bingConsent","mouseFlowConsent","kruxConsent","criteoConsent","rtbConsent","cmp_facebook_consent","cmp_googleAnalytics_consent","cmp_googleAds_consent","cmp_bing_consent","cmp_mouseFlow_consent","cmp_krux_consent","cmp_criteo_consent","cmp_rtb_consent","name","isBot","method","headers","Accept","body","metrics","value","tags","service","device","replace","c","Math","random","v","toString","getcid","cid","serialize","Object","keys","encodeURIComponent","domain","executed","containerIdsByTld","viewportWidth","min","clientWidth","innerWidth","screen","width","session_viewport","currentVehicles","add","commit","list_productidsall","as24tracking","create","HTMLElement","inDev","supportedActions","supportedTypes","reservedWords","attachedCallback","values","getAdditionalProperties","getAttribute","action","splice","clickTarget","elements","querySelectorAll","track","trackingValue","isArray","attributes","element","nodeName","reduce","prev","curr","attrName","decodeAttributeName","nodeValue","g","toUpperCase","ctor","constructor","HTMLUnknownElement","registerElement","warn","loadScript","iam_data","st","cp","sv","co","iom","home","detailGallery","onload","pathname","startsWith","onHomepage","onDealerInfoListPage","path","pixelPath","RegExp","detailPage","oewa_data","cn","ps","allPages","onDetailPage"],"mappings":"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","file":"./docs/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3a91cc70b2840a812c21","var tracking = require('../../src/index.js');\nwindow.ut = tracking.ut || [];\n\n\n\n// WEBPACK FOOTER //\n// ./docs/src/main.js","const trackingEnabled = location.hash.indexOf('tracking-off=true') < 0;\n\nconst startTracking = () => {\n    var gtm = require('./gtm');\n    var dealerGtm = require('./dealer-gtm');\n\n    function processCommand(data) {\n        var fn, args;\n\n        if (data[0] === 'pagename') {\n            gtm.setPagename(data[1]);\n        }\n\n        if (data[0] === 'gtm') {\n            fn = gtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(gtm, args);\n            }\n        } else if (data[0] === 'dealer-gtm') {\n            fn = dealerGtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(dealerGtm, args);\n            }\n        }\n    }\n\n    var ut = window.ut || (window.ut = []);\n\n    if (ut.push === Array.prototype.push) {\n        ut.push = function () {\n            Array.prototype.push.apply(window.ut, arguments);\n            processCommand.apply({}, arguments);\n        };\n\n        ut.forEach(processCommand);\n    }\n\n    require('./trackingElement');\n\n    module.exports = {\n        gtm: gtm,\n        ut: ut,\n    };\n};\n\nif (window.location.hostname.split('.').pop() === 'de') {\n    require('./ivw');\n}\n\nif (window.location.hostname.split('.').pop() === 'at') {\n    require('./oewa');\n}\n\nconst cmp = require('./cmp');\n\nconst run = () => {\n    if (!trackingEnabled) {\n        console.log('Tracking disabled');\n        return;\n    }\n\n    if (window.__tcfapi) {\n        startTracking();\n        return;\n    }\n\n    if (!cmp.isCmpEnabled()) {\n        window.dataLayer = window.dataLayer || [];\n        window.dataLayer.push({ cmp_enabled: false });\n        startTracking();\n        return;\n    }\n\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push({ cmp_enabled: true });\n\n    // We load the CMP and do some magic here\n    cmp.loadCmpAsync();\n\n    // window.__cmp('addEventListener', 'cmpReady', () => {\n    // When consent changes we update dataLayer and localStorage.__as24_cached_cmp_consent\n    cmp.updateDataLayerAndCacheOnConsentChange();\n\n    cmp.sendMetricsOnEvents();\n\n    // !!! We don't load GTM in NL without consent !!!\n    if (cmp.isCmpEnabled() && window.location.hostname.split('.').pop() === 'nl') {\n        cmp.waitForConsentAgreementIfNeeded().then((hasGivenConsent) => {\n            if (hasGivenConsent) {\n                startTracking();\n            }\n        });\n    } else {\n        cmp.waitForConsentIfNeeded().then(() => startTracking());\n    }\n\n    // if (cmp.trySetDataLayerVariablesFromCache()) {\n    //     // We have consent data in cache so we can proceed loading GTM\n    //     startTracking();\n    // } else {\n    //     // We don't have previous consent in cache therefore we are waiting for getting one\n    //     // This is to avoid losing important conversion tracking events: Google Ads, Facebook\n    //     // which are fired directly in the pageview\n    //     cmp.waitForFirstCmpDecision().then(() => {\n    //         startTracking();\n    //     });\n    // }\n};\n\nrun();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var merge = require('amp-merge');\n\nvar gtm = require('./googletagmanager');\nvar containerId = require('./getGtmContainerId')(location.hostname);\nvar viewport = require('./viewport');\n\nvar pagename;\n\nfunction setPagename(pn) {\n    pagename = pn;\n}\n\nfunction generateCommonParams(data) {\n    var mergedPagename = merge({}, pagename, data);\n\n    if (\n        !mergedPagename ||\n        !mergedPagename.country ||\n        !mergedPagename.market ||\n        !mergedPagename.category ||\n        !mergedPagename.pageid ||\n        !mergedPagename.environment\n    ) {\n        if (mergedPagename.environment !== 'test' || mergedPagename.environment !== 'live') {\n            throw new Error('Invalid environment type, ' + JSON.stringify(mergedPagename));\n        }\n        throw new Error('Incorrect pagename, ' + JSON.stringify(mergedPagename));\n    }\n\n    var commonPageName = [\n        mergedPagename.country,\n        mergedPagename.market,\n        mergedPagename.category,\n        mergedPagename.group,\n        mergedPagename.pageid,\n    ]\n        .filter(function (x) {\n            return x;\n        })\n        .join('/');\n\n    if (mergedPagename.layer) {\n        commonPageName += '|' + mergedPagename.layer;\n    }\n\n    var commonData = {\n        common_country: mergedPagename.country,\n        common_market: mergedPagename.market,\n        common_category: mergedPagename.category,\n        common_pageid: mergedPagename.pageid,\n        common_pageName: commonPageName,\n        common_environment: mergedPagename.environment,\n\n        common_language: mergedPagename.language || '',\n        common_group: mergedPagename.group || '',\n        common_layer: mergedPagename.layer || '',\n        common_attribute: mergedPagename.attribute || '',\n\n        common_linkgroup: mergedPagename.linkgroup || '',\n        common_linkid: mergedPagename.linkid || '',\n\n        common_techState: mergedPagename.techState || '',\n    };\n\n    return commonData;\n}\n\nfunction trackClick(params) {\n    if (params.eventcategory && params.eventaction) {\n        gtm.push({\n            event: 'event_trigger',\n            event_category: params.eventcategory,\n            event_action: params.eventaction,\n            event_label: params.eventlabel || '',\n            event_non_interaction: false,\n        });\n    } else {\n        //DEPRECATED\n        gtm.push(generateCommonParams(params));\n        gtm.push({\n            event: 'click',\n        });\n    }\n}\n\nvar firstPageview = true;\n\nfunction trackPageview(data) {\n    if (firstPageview) {\n        gtm.push(viewport);\n    }\n\n    gtm.push(generateCommonParams(data));\n\n    setTimeout(function () {\n        if (firstPageview) {\n            // !!! We don't load GTM in NL without consent !!!\n            if (window.cmpEnabled && window.location.hostname.split('.').pop() === 'nl') {\n                gtm.loadContainerOnlyWidthConsent(containerId);\n            } else {\n                gtm.loadContainer(containerId);\n            }            \n\n            gtm.push({\n                event: 'common_data_ready',\n            });\n            gtm.push({\n                event: 'data_ready',\n            });\n            firstPageview = false;\n        } else {\n            gtm.push({\n                event: 'pageview',\n            });\n        }\n    }, 10);\n}\n\nmodule.exports = {\n    setPagename: setPagename,\n    trackClick: trackClick,\n\n    set: gtm.push,\n    pageview: trackPageview,\n    click: trackClick,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/index.js","var extend = require('amp-extend');\n\nmodule.exports = function merge() {\n    var args = [].slice.call(arguments);\n    args.unshift({});\n    return extend.apply(this, args);\n};\n\n\n// WEBPACK FOOTER //\n// ./~/amp-merge/merge.js","var isObject = require('amp-is-object');\n\n\nmodule.exports = function(obj) {\n    if (!isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            obj[prop] = source[prop];\n        }\n    }\n    return obj;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-extend/extend.js","module.exports = function isObject(obj) {\n    var type = typeof obj;\n    return !!obj && (type === 'function' || type === 'object');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-is-object/is-object.js","const cmp = require('../cmp');\n\nvar dataLayer = (window.dataLayer = window.dataLayer || []);\nvar useNewArrayLogic = window.location.href.indexOf('tracking-arrays=true') >= 0;\n\nmodule.exports = {\n    loadContainer: function (containerId) {\n        var gtmAlreadyLoadedClassName = 'gtm-main-container-load-initiated';\n        var alreadyInitiatedMainGtmContainerLoaded =\n            document.documentElement.className.indexOf(gtmAlreadyLoadedClassName) >= 0;\n\n        if (alreadyInitiatedMainGtmContainerLoaded) {\n            // preventing duplicated load of main GTM container\n            return;\n        }\n\n        document.documentElement.className += ' ' + gtmAlreadyLoadedClassName;\n\n        var tld = window.location.hostname.split('.').pop();\n        if (tld === 'nl' && window.__tcfapi) {\n            const callback = (tcData, success) => {\n                if (success && (tcData.eventStatus === 'tcloaded' || tcData.eventStatus === 'useractioncomplete')) {\n                    window.__tcfapi('removeEventListener', 2, () => {}, tcData.listenerId);\n                    __tcfapi('getTCData', 2, function (tcData, success) {\n                        if (\n                            tcData.purpose.consents[1] &&\n                            tcData.purpose.consents[2] &&\n                            tcData.purpose.consents[3] &&\n                            tcData.purpose.consents[4] &&\n                            tcData.purpose.consents[5] &&\n                            tcData.purpose.consents[6] &&\n                            tcData.purpose.consents[7] &&\n                            tcData.purpose.consents[8] &&\n                            tcData.purpose.consents[9] &&\n                            tcData.purpose.consents[10]\n                        ) {\n                            loadContainer();\n                        }\n                    });\n                }\n            };\n            window.__tcfapi('addEventListener', 2, callback);\n        } else {\n            loadContainer();\n        }\n\n        function loadContainer() {\n            (function (w, d, s, l, i) {\n                w[l] = w[l] || [];\n                w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\n                var f = d.getElementsByTagName(s)[0],\n                    j = d.createElement(s),\n                    dl = l != 'dataLayer' ? '&l=' + l : '';\n                j.async = true;\n                j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;\n                f.parentNode.insertBefore(j, f);\n            })(window, document, 'script', 'dataLayer', containerId);\n        }\n    },\n\n    loadContainerOnlyWidthConsent: function (containerId) {\n        cmp.waitForConsentAgreementIfNeeded().then((hasGivenConsent) => {\n            if (hasGivenConsent) {\n                this.loadContainer(containerId);\n            }\n        });\n    },\n\n    push: function () {\n        if (!arguments.length) {\n            return;\n        }\n\n        var args = [].slice.call(arguments);\n\n        args.map(function (data) {\n            for (var key in data) {\n                if (!useNewArrayLogic || typeof data[key] === 'string') {\n                    data[key] = toLower(data[key]);\n                }\n            }\n\n            return data;\n        });\n\n        dataLayer.push.apply(dataLayer, args);\n    },\n};\n\nfunction toLower(val) {\n    return val && ('' + val).toLowerCase();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/googletagmanager.js","const { once } = require('./util');\n\nconst consentCacheKey = '__cmp_consent_cache';\nconst isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|mobil/i.test(navigator.userAgent);\n\nconst optimizelyEnabled = window.location.href.indexOf('__cmp-optimizely') >= 0;\n\nconst cmpSiteIds = {\n    at: 'c8515c6b-cf35-47d8-8078-15cc075b3207',\n    be: 'a9a510e9-b6b9-4499-99f6-131880e92aaa',\n    com: 'c1adba9f-4737-4aaf-ad78-f406e961c345',\n    de: '769b8c9a-14d7-4f0f-bc59-2748c96ec403',\n    es: '052e7f91-7b7c-432a-bb9e-d99911139da7',\n    fr: 'f6a34410-a99a-4e8d-836c-f19620914569',\n    it: '7dc55efc-b43a-4ab6-a31b-d084591ee853',\n    lu: '3f009a85-9789-4acc-a4a3-a6c45994c3ca',\n    nl: '11590dc9-3700-43b4-aacd-731ef5261fdf',\n};\n\nmodule.exports.loadCmpAsync = once(() => {\n    if (window.__tcfapi) {\n        return;\n    }\n\n    const script = document.createElement('script');\n    const ref = document.getElementsByTagName('script')[0];\n    ref.parentNode.insertBefore(script, ref);\n\n    try {\n        if (optimizelyEnabled && !localStorage.getItem('__as24_cmp_userid')) {\n            // delete decision cookies when user gets into an experiment where they haven't been before\n\n            deleteCookie('769b8c9a-14d7-4f0f-bc59-2748c96ec403faktorId');\n            deleteCookie('769b8c9a-14d7-4f0f-bc59-2748c96ec403faktorChecksum');\n            deleteCookie('769b8c9a-14d7-4f0f-bc59-2748c96ec403cconsent');\n            deleteCookie('769b8c9a-14d7-4f0f-bc59-2748c96ec403euconsent');\n\n            deleteCookie('ea93c094-1e43-49f8-8c62-75128f08f70bfaktorChecksum');\n            deleteCookie('ea93c094-1e43-49f8-8c62-75128f08f70beuconsent');\n            deleteCookie('ea93c094-1e43-49f8-8c62-75128f08f70bcconsent');\n            deleteCookie('ea93c094-1e43-49f8-8c62-75128f08f70bfaktorId');\n\n            deleteCookie('lastConsentChange');\n        }\n\n        getCmpVariationData().then(({ userid, variation }) => {\n            window.__as24_cmp_userid = userid;\n            window.__as24_cmp_variation = variation;\n\n            loadCmp(variation);\n\n            if (variation) {\n                localStorage.setItem('__as24_cmp_userid', userid);\n                localStorage.setItem('__as24_cmp_variation', variation);\n\n                window.__as24_cmp_opt_sendevent = function (event) {\n                    const url =\n                        'https://cmp-optimizely-fs.as24-media.eu-west-1.infinity.as24.tech/sendevent/' +\n                        userid +\n                        '/' +\n                        event;\n\n                    if ('sendBeacon' in navigator) {\n                        navigator.sendBeacon(url);\n                    } else {\n                        new Image().src =\n                            'https://cmp-optimizely-fs.as24-media.eu-west-1.infinity.as24.tech/sendevent/' +\n                            userid +\n                            '/' +\n                            event;\n                    }\n                };\n            }\n        });\n\n        console.log(window.__as24_cmp_userid, window.__as24_cmp_variation);\n    } catch (ex) {\n        //\n    }\n\n    function getCmpVariationData() {\n        if (!optimizelyEnabled) {\n            return Promise.resolve({ variation: null, userid: '' });\n        }\n\n        if (localStorage.getItem('__as24_cmp_userid') && localStorage.getItem('__as24_cmp_variation')) {\n            return Promise.resolve({\n                variation: localStorage.getItem('__as24_cmp_variation'),\n                userid: localStorage.getItem('__as24_cmp_userid'),\n            });\n        }\n\n        const userid = uuidv4();\n\n        return fetch(\n            'https://cmp-optimizely-fs.as24-media.eu-west-1.infinity.as24.tech/activate/cmp_classic_vs__nextgen/' +\n                userid\n        ).then((r) => r.json());\n    }\n\n    function loadCmp(variation) {\n        const tld = window.location.hostname.split('.').pop();\n        if (tld === 'de') {\n            if (variation === 'classic') {\n                script.src = 'https://config-prod.choice.faktor.io/769b8c9a-14d7-4f0f-bc59-2748c96ec403/faktor.js';\n            } else {\n                script.src = 'https://config-prod.choice.faktor.io/ea93c094-1e43-49f8-8c62-75128f08f70b/faktor.js';\n            }\n        } else {\n            const cmpSiteId = cmpSiteIds[tld] || cmpSiteIds['de'];\n            script.src = `https://config-prod.choice.faktor.io/${cmpSiteId}/faktor.js`;\n        }\n    }\n\n    function waitForIframe(cb) {\n        const ifr = document.querySelector('iframe#cmp-faktor-io-brand-consent-notice');\n        // const ifr = document.querySelector('div#cmp-faktor-io-parent');\n        if (ifr) {\n            cb(ifr);\n            return;\n        }\n\n        setTimeout(() => {\n            waitForIframe(cb);\n        }, 50);\n    }\n\n    function isOnPrivacyInfoPage() {\n        return (\n            window.location.href.indexOf('__cmp_privacy') >= 0 ||\n            document.querySelector('as24-tracking[pageid=\"au-company-privacy\"]')\n        );\n    }\n\n    // if (isMobile) {\n    window.__cmp('addEventListener', 'consentToolShouldBeShown', () => {\n        if (isOnPrivacyInfoPage()) {\n            window.__cmp('showConsentTool', false);\n        } else {\n            waitForIframe((ifr) => {\n                ifr.parentNode.style =\n                    'width: 100%; heigh: 100%; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 1000; background-color: rgba(0, 0, 0, 0.35);';\n            });\n        }\n    });\n    // }\n\n    // window.__cmp('addEventListener', 'consentToolShouldBeShown', () => {\n    //     waitForIframe((ifr) => {\n    //         console.log(ifr);\n    //         ifr.parentNode.style = 'position: relative';\n    //         // 'width: 100%; heigh: 100%; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 1000; background-color: rgba(0, 0, 0, 0.35);';\n    //     });\n    // });\n\n    sendMetrics('cmp_pageview');\n\n    try {\n        const userMadeDecision = !!localStorage[consentCacheKey];\n        if (!userMadeDecision) {\n            sendMetrics('cmp_pageview_without_decision');\n        }\n    } catch (ex) {\n        //\n    }\n});\n\nmodule.exports.isCmpEnabled = () => {\n    return !window.__tcfapi && window.cmpEnabled;\n};\n\nmodule.exports.waitForConsentIfNeeded = () => {\n    return new Promise((resolve) => {\n        if (trySetDataLayerVariablesFromCache()) {\n            resolve();\n            return;\n        }\n\n        const handler = (e) => {\n            window.__cmp('consentDataExist', null, (d) => {\n                if (d === true) {\n                    window.__cmp('removeEventListener', 'consentChanged', handler);\n                    resolve();\n                }\n            });\n        };\n\n        window.__cmp('addEventListener', 'consentChanged', handler);\n    });\n};\n\nfunction hasGivenConsent(vendorConsents) {\n    const hasGivenConsent = !!(\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[2] &&\n        vendorConsents.purposeConsents[3] &&\n        vendorConsents.purposeConsents[4] &&\n        vendorConsents.purposeConsents[5]\n    );\n    return hasGivenConsent;\n}\n\nfunction hasGivenConsentGtm(vendorConsents, additionalVendorConsents) {\n    const hasGivenConsent = !!(\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[2] &&\n        vendorConsents.purposeConsents[3] &&\n        vendorConsents.purposeConsents[4] &&\n        vendorConsents.purposeConsents[5] &&\n        additionalVendorConsents.vendorConsents[6]\n    );\n    console.log('Has agreed to GTM ' + additionalVendorConsents.vendorConsents[6]);\n    return hasGivenConsent;\n}\n\nmodule.exports.waitForConsentAgreementIfNeeded = () => {\n    if (window.location.href.indexOf('__cmp_gtm_check') > -1) {\n        return new Promise((resolve) => {\n            window.__cmp('consentDataExist', null, (consentDataExists) => {\n                if (consentDataExists === true) {\n                    window.__cmp('getVendorConsents', undefined, (vendorData) => {\n                        window.__cmp('getAdditionalVendorConsents', undefined, function (additionalVendorConsents) {\n                            window.__cmp('removeEventListener', 'consentChanged', handler);\n                            resolve(hasGivenConsentGtm(vendorData, additionalVendorConsents));\n                        });\n                    });\n                }\n            });\n\n            const handler = (e) => {\n                window.__cmp('getVendorConsents', undefined, (vendorData) => {\n                    window.__cmp('getAdditionalVendorConsents', undefined, function (additionalVendorConsents) {\n                        window.__cmp('removeEventListener', 'consentChanged', handler);\n                        resolve(hasGivenConsentGtm(vendorData, additionalVendorConsents));\n                    });\n                });\n            };\n            window.__cmp('addEventListener', 'consentWallClosed', handler);\n            window.__cmp('addEventListener', 'consentManagerClosed', handler);\n        });\n    } else {\n        return new Promise((resolve) => {\n            window.__cmp('consentDataExist', null, (consentDataExists) => {\n                if (consentDataExists === true) {\n                    window.__cmp('getVendorConsents', undefined, (vendorData) => {\n                        window.__cmp('removeEventListener', 'consentChanged', handler);\n                        resolve(hasGivenConsent(vendorData));\n                    });\n                }\n            });\n\n            const handler = (e) => {\n                window.__cmp('getVendorConsents', undefined, (vendorData) => {\n                    window.__cmp('removeEventListener', 'consentChanged', handler);\n                    resolve(hasGivenConsent(vendorData));\n                });\n            };\n            window.__cmp('addEventListener', 'consentChanged', handler);\n        });\n    }\n};\n\nmodule.exports.waitForFirstCmpDecision = () => {\n    return new Promise((resolve) => {\n        const handler = (e) => {\n            window.__cmp('consentDataExist', null, (d) => {\n                if (d === true) {\n                    window.__cmp('removeEventListener', 'consentChanged', handler);\n                    resolve();\n                }\n            });\n        };\n\n        window.__cmp('addEventListener', 'consentChanged', handler);\n    });\n};\n\nfunction getAllConsents() {\n    return Promise.all([\n        new Promise((resolve) => window.__cmp('getVendorConsents', null, resolve)),\n        new Promise((resolve) => window.__cmp('getAdditionalVendorConsents', null, resolve)),\n    ]);\n}\n\nmodule.exports.updateDataLayerAndCacheOnConsentChange = () => {\n    window.__cmp('addEventListener', 'consentChanged', (e) => {\n        getAllConsents().then(([vendorConsents, additionalVendorConsents]) => {\n            setDataLayerConsents(vendorConsents, additionalVendorConsents);\n            localStorage.setItem(consentCacheKey, JSON.stringify({ vendorConsents, additionalVendorConsents }));\n        });\n    });\n\n    // For safety we update the cache and the dataLayer every time when the cmp loads\n    cmpReady().then(() => {\n        consentDataExists().then((exists) => {\n            if (exists) {\n                getAllConsents().then(([vendorConsents, additionalVendorConsents]) => {\n                    setDataLayerConsents(vendorConsents, additionalVendorConsents);\n                    localStorage.setItem(consentCacheKey, JSON.stringify({ vendorConsents, additionalVendorConsents }));\n                });\n            }\n        });\n    });\n\n    document.addEventListener('list-items:changed', function () {\n        getAllConsents().then(([vendorConsents, additionalVendorConsents]) => {\n            setDataLayerConsents(vendorConsents, additionalVendorConsents);\n            localStorage.setItem(consentCacheKey, JSON.stringify({ vendorConsents, additionalVendorConsents }));\n        });\n    });\n};\n\nmodule.exports.trySetDataLayerVariablesFromCache = () => {\n    try {\n        const cache = JSON.parse(localStorage.getItem(consentCacheKey));\n        setDataLayerConsents(cache.vendorConsents, cache.additionalVendorConsents);\n        return true;\n    } catch (e) {\n        return false;\n    }\n};\n\nfunction trySetDataLayerVariablesFromCache() {\n    if (!/faktorid/i.test(document.cookie)) {\n        // We do not use cached data if faktor cookies are missing\n        // (e.g. cookies were deleted by a extension which keeps localStorage)\n        return false;\n    }\n\n    try {\n        const cache = JSON.parse(localStorage.getItem(consentCacheKey));\n        setDataLayerConsents(cache.vendorConsents, cache.additionalVendorConsents);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction cmpReady() {\n    return new Promise((resolve) => {\n        const handler = (e) => {\n            window.__cmp('removeEventListener', 'cmpReady', handler);\n            resolve(e);\n        };\n\n        window.__cmp('addEventListener', 'cmpReady', handler);\n    });\n}\n\nfunction consentDataExists() {\n    return new Promise((resolve) => {\n        window.__cmp('consentDataExist', null, (x) => {\n            resolve(x);\n        });\n    });\n}\n\nmodule.exports.sendMetricsOnEvents = () => {\n    const events = [\n        'faktorIdChanged',\n        'acceptAllButtonClicked',\n        'rejectAllButtonClicked',\n        'exitButtonClicked',\n        'privacySettingsButtonClicked',\n        'disabledCookies',\n        'consentManagerDisplayed',\n        'consentManagerClosed',\n        // 'consentWallDisplayed',\n        'consentWallClosed',\n        'consentToolShouldBeShown',\n        'cmpReady',\n        'brandConsentNoticeDisplayed',\n    ];\n\n    events.forEach((event) => window.__cmp('addEventListener', event, () => sendMetrics(event)));\n\n    window.__cmp('addEventListener', 'acceptAllButtonClicked', () => {\n        window.__as24_cmp_opt_sendevent && window.__as24_cmp_opt_sendevent('cmpAcceptAll');\n    });\n\n    window.__cmp('addEventListener', 'rejectAllButtonClicked', () => {\n        window.__as24_cmp_opt_sendevent && window.__as24_cmp_opt_sendevent('cmpRejectAll');\n    });\n\n    window.__cmp('addEventListener', 'exitButtonClicked', () => {\n        window.__as24_cmp_opt_sendevent && window.__as24_cmp_opt_sendevent('cmpExit');\n    });\n\n    window.__cmp('addEventListener', 'consentToolShouldBeShown', () => {\n        window.__as24_cmp_opt_sendevent && window.__as24_cmp_opt_sendevent('cmpShown');\n\n        var interaction = false;\n        const interactionEvents = [\n            'acceptAllButtonClicked',\n            'rejectAllButtonClicked',\n            'exitButtonClicked',\n            'privacySettingsButtonClicked',\n        ];\n\n        interactionEvents.forEach((event) => window.__cmp('addEventListener', event, () => (interaction = true)));\n\n        window.addEventListener('unload', () => {\n            if (!interaction) {\n                // track if user navigates to a new AS24 page without interacting with the page\n                window.__as24_cmp_opt_sendevent && window.__as24_cmp_opt_sendevent('cmpNavigationWithoutInteraction');\n            }\n        });\n    });\n};\n\nfunction setDataLayerConsents(vendorConsents, additionalVendorConsents) {\n    const facebookConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[2] &&\n        vendorConsents.purposeConsents[3] &&\n        vendorConsents.purposeConsents[5] &&\n        additionalVendorConsents.vendorConsents[16];\n\n    const googleAnalyticsConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[5] &&\n        additionalVendorConsents.vendorConsents[4];\n\n    const googleAdsConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[2] &&\n        vendorConsents.purposeConsents[3] &&\n        vendorConsents.purposeConsents[5] &&\n        additionalVendorConsents.vendorConsents[91];\n\n    const bingConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[2] &&\n        vendorConsents.purposeConsents[3] &&\n        vendorConsents.purposeConsents[4] &&\n        vendorConsents.purposeConsents[5] &&\n        additionalVendorConsents.vendorConsents[21];\n\n    const mouseFlowConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[5] &&\n        additionalVendorConsents.vendorConsents[223];\n\n    const kruxConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[2] &&\n        vendorConsents.purposeConsents[3] &&\n        vendorConsents.purposeConsents[4] &&\n        vendorConsents.purposeConsents[5] &&\n        additionalVendorConsents.vendorConsents[25];\n\n    const criteoConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[2] &&\n        vendorConsents.vendorConsents[91];\n\n    const rtbConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[2] &&\n        vendorConsents.vendorConsents[16];\n\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push({\n        cmp_facebook_consent: facebookConsent,\n        cmp_googleAnalytics_consent: googleAnalyticsConsent,\n        cmp_googleAds_consent: googleAdsConsent,\n        cmp_bing_consent: bingConsent,\n        cmp_mouseFlow_consent: mouseFlowConsent,\n        cmp_krux_consent: kruxConsent,\n        cmp_criteo_consent: criteoConsent,\n        cmp_rtb_consent: rtbConsent,\n    });\n}\n\nfunction sendMetrics(name) {\n    const isBot = /bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent);\n    if (isBot) {\n        return;\n    }\n\n    fetch('/frontend-metrics/timeseries', {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n            metrics: [\n                {\n                    type: 'increment',\n                    name: 'showcar-tracking-cmp-' + name,\n                    value: 1,\n                    tags: {\n                        service: 'showcar-tracking',\n                        device: isMobile ? 'mobile' : 'desktop',\n                    },\n                },\n            ],\n        }),\n    });\n}\n\nfunction uuidv4() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0,\n            v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n\nconst getcid = () => {\n    const cid = localStorage.getItem('__cmp_experiment_cid') || uuidv4();\n    localStorage.setItem('__cmp_experiment_cid', cid);\n    return cid;\n};\n\nconst serialize = (obj) => {\n    return Object.keys(obj)\n        .map((key) => `${key}=${encodeURIComponent(obj[key])}`)\n        .join('&');\n};\n\nfunction deleteCookie(name) {\n    const domain = location.hostname.replace('www.', '.').replace('local.', '.');\n    document.cookie = name + '=; path=/; domain=' + domain + '; expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cmp.js","module.exports.once = (fn) => {\n    let executed = false;\n    return () => {\n        if (!executed) {\n            executed = true;\n            fn();\n        }\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","var containerIdsByTld = {\n    de: 'GTM-MK57H2',\n    at: 'GTM-WBZ87G',\n    be: 'GTM-5BWB2M',\n    lu: 'GTM-NDBDCZ',\n    es: 'GTM-PS6QHN',\n    fr: 'GTM-PD93LD',\n    it: 'GTM-WTCSNR',\n    nl: 'GTM-TW48BJ',\n    com: 'GTM-KWX9NX',\n};\n\nmodule.exports = function (hostname) {\n    var tld = hostname.split('.').pop();\n    return containerIdsByTld[tld] || containerIdsByTld['com'];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/getGtmContainerId.js","var viewportWidth = Math.min(document.documentElement.clientWidth, window.innerWidth || screen.width);\n\nmodule.exports = {\n    session_viewport: viewportWidth >= 994 ? 'l' : viewportWidth >= 768 ? 'm' : viewportWidth >= 480 ? 's' : 'xs',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/viewport.js","var currentVehicles = [];\n\nfunction add(data) {\n    currentVehicles.push(data);\n}\n\nfunction commit() {\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push({\n        list_productidsall: currentVehicles,\n    });\n\n    currentVehicles = [];\n}\n\nmodule.exports = {\n    add: add,\n    commit: commit,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/dealer-gtm.js","var as24tracking = Object.assign(Object.create(HTMLElement.prototype), {\n    inDev: false,\n    supportedActions: ['set', 'click', 'pageview'],\n    supportedTypes: ['gtm', 'pagename'],\n    reservedWords: ['type', 'action', 'as24-tracking-value', 'as24-tracking-click-target'],\n\n    attachedCallback() {\n        var values = this.getAdditionalProperties();\n        var type = this.getAttribute('type');\n        var action = this.getAttribute('action');\n        var args = [type, action];\n\n        if (Object.keys(values).length > 0) {\n            args.push(values);\n        }\n\n        if (type === 'pagename') {\n            args.splice(1, 1);\n        }\n\n        var clickTarget = this.getAttribute('as24-tracking-click-target');\n        if (clickTarget) {\n            var elements = document.querySelectorAll(clickTarget);\n\n            for (var i = 0; i < elements.length; i++) {\n                elements[i].addEventListener('click', () => this.track(args));\n            }\n        } else {\n            this.track(args);\n        }\n    },\n\n    getAdditionalProperties() {\n        var trackingValue = this.getAttribute('as24-tracking-value');\n        var values = trackingValue ? JSON.parse(trackingValue) : {};\n\n        if (Array.isArray(values)) {\n            return values;\n        }\n\n        return Array.prototype.slice\n            .call(this.attributes)\n            .filter((element) => !(this.reservedWords.indexOf(element.nodeName) > -1))\n            .reduce((prev, curr) => {\n                var attrName = this.decodeAttributeName(curr.nodeName);\n                prev[attrName] = curr.nodeValue;\n                return prev;\n            }, values);\n    },\n\n    decodeAttributeName(attrName) {\n        if (attrName.indexOf('-') > -1) {\n            attrName = attrName.replace(/-([a-z])/g, function (g) {\n                return g[1].toUpperCase();\n            });\n        }\n        return attrName;\n    },\n\n    track(args) {\n        if (this.inDev) {\n            console.log(args);\n        } else {\n            window.ut = window.ut || [];\n            window.ut.push(args);\n        }\n    },\n});\n\ntry {\n    var ctor = document.createElement('as24-tracking').constructor;\n    if (ctor === HTMLElement || ctor === HTMLUnknownElement) {\n        document.registerElement('as24-tracking', {\n            prototype: as24tracking,\n        });\n    }\n} catch (e) {\n    if (window && window.console) {\n        window.console.warn('Failed to register CustomElement \"as24-tracking\".', e);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/trackingElement.js","const isMobile = window.innerWidth < 789;\n\nconst market = (() => {\n    try {\n        return document.querySelector('as24-tracking[type=pagename]').getAttribute('market');\n    } catch (e) {\n        return 'vm';\n    }\n})();\n\nconst category = (() => {\n    try {\n        return document.querySelector('as24-tracking[type=pagename]').getAttribute('category');\n    } catch (e) {\n        return 'uc';\n    }\n})();\n\nfunction pageview() {\n    loadScript('https://script.ioam.de/iam.js').then(() => {\n        window.iam_data = {\n            st: isMobile ? 'mobaus24' : 'aus24',\n            cp: `as24/de/${market}/${category}`.toLowerCase(),\n            sv: isMobile ? 'mo' : 'i2',\n            co: '',\n        };\n\n        iom.c(window.iam_data, 1);\n    });\n}\n\nfunction home() {\n    loadScript('https://script.ioam.de/iam.js').then(() => {\n        window.iam_data = {\n            st: isMobile ? 'mobaus24' : 'aus24',\n            cp: `as24/de/${market}/home`.toLowerCase(),\n            sv: 'ke',\n            co: '',\n        };\n\n        iom.c(window.iam_data, 1);\n    });\n}\n\nfunction detailGallery() {\n    loadScript('https://script.ioam.de/iam.js').then(() => {\n        window.iam_data = {\n            st: isMobile ? 'mobaus24' : 'aus24',\n            cp: `as24/de/${market}/${category}`.toLowerCase(),\n            sv: isMobile ? 'mo' : 'i2',\n            co: '',\n        };\n\n        iom.c(window.iam_data, 1);\n    });\n}\n\nfunction loadScript(src) {\n    return new Promise((resolve) => {\n        const script = document.createElement('script');\n        const ref = document.getElementsByTagName('script')[0];\n        ref.parentNode.insertBefore(script, ref);\n        script.onload = resolve;\n        script.src = src;\n    });\n}\n\ndocument.addEventListener('list-items:changed', (e) => pageview());\n\nif (window.location.pathname.startsWith('/angebote')) {\n    try {\n        document.querySelector('as24-carousel').addEventListener('as24-carousel.slide', (e) => detailGallery());\n    } catch (e) {}\n}\n\nconst onHomepage = window.location.pathname === '/' || window.location.pathname === '/motorrad';\n\n// On the dealer info list page the `list-items:changed` event is fired even on the first pageview.\n// This causes the pageview  to be double tracked.\n// To prevent this we don't track the real pageview on the dealer info list pages.\nconst onDealerInfoListPage = /\\/haendler\\/.+\\/fahrzeuge/.test(window.location.pathname);\n\nif (onHomepage) {\n    home();\n} else if (!onDealerInfoListPage) {\n    pageview();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ivw.js","const path = window.location.pathname;\nconst pixelPath = (() => {\n    switch(true){\n        case RegExp('^\\/$').test(path):\n            return 'Service/Homepage/Homepage';\n            break;\n        case RegExp('(^\\/promo\\/preisbewertung)|(^\\/auto\\-verkaufen)|(^\\/fahrzeugbewertung)|(^\\/promo\\/preisbewertung)').test(path):\n            return 'Service/Sonstiges/Sonstiges';\n            break;\n        case RegExp('(^\\/motorrad)|(^\\/lst)').test(path):\n            return 'Service/Rubrikenmaerkte/Automarkt';\n            break;\n        case RegExp('(^\\/informieren)|(^\\/auto)|(^\\/moto)').test(path):\n            return 'RedCont/AutoUndMotor/AutoUndMotor';\n            break;\n        case RegExp('^\\/unternehmen').test(path):\n            return 'Service/Unternehmenskommunikation/Unternehmenskommunikation';\n            break;\n        default:\n            return 'not_available';\n            break;\n    }\n})();\n\nfunction detailPage(){\n    loadScript('https://script-at.iocnt.net/iam.js').then(() => {\n        if(window.iom){\n            // OEWA VERSION=\"3.0\" \n            window.oewa_data = {\n                cn: 'at', // country \n                st: 'at_w_atascout24', // sitename \n                cp: 'Service/Rubrikenmaerkte/Automarkt', // kategorienpfad  \n                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n                ps: 'lin' // Privacy setting \n            };\n            iom.c(window.oewa_data,1); \n        }\n    });\n}\n\nfunction allPages() {\n    loadScript('https://script-at.iocnt.net/iam.js').then(() => {\n        if(window.iom){\n            // OEWA VERSION=\"3.0\" \n            window.oewa_data = {\n                cn: 'at', // country \n                st: 'at_w_atascout24', // sitename \n                cp: pixelPath, // kategorienpfad \n                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n                ps: 'lin' // Privacy setting \n            };\n            iom.c(window.oewa_data,1); \n        }\n    });\n}\n\nfunction loadScript(src) {\n    return new Promise((resolve) => {\n        const script = document.createElement('script');\n        const ref = document.getElementsByTagName('script')[0];\n        ref.parentNode.insertBefore(script, ref);\n        script.onload = resolve;\n        script.src = src;\n    });\n}\n\n\nconst onDetailPage = path.startsWith('/angebote') && document.querySelector('as24-tracking[type=pagename]').getAttribute('pageid') === 'detail';\n\n\nif (onDetailPage) {\n    detailPage();\n\n    try {\n        document.querySelector('as24-carousel').addEventListener('as24-carousel.slide', (e) => detailPage());\n    } catch(e) {}\n\n    \n} else {\n    if(pixelPath !== 'not_available'){\n        allPages();\n    }   \n}\n\n\n// WEBPACK FOOTER //\n// ./src/oewa.js"],"sourceRoot":""}