{"version":3,"sources":["webpack:///webpack/bootstrap b30ba97ac33118192e76","webpack:///./docs/src/main.js","webpack:///./src/index.js","webpack:///./src/gtm/index.js","webpack:///./~/amp-merge/merge.js","webpack:///./~/amp-extend/extend.js","webpack:///./~/amp-is-object/is-object.js","webpack:///./src/gtm/googletagmanager.js","webpack:///./src/gtm/getGtmContainerId.js","webpack:///./src/gtm/viewport.js","webpack:///./src/dealer-gtm.js","webpack:///./src/trackingElement.js","webpack:///./src/cmp.js","webpack:///./src/util.js","webpack:///./src/liveramp-stub.js"],"names":["tracking","require","window","ut","trackingEnabled","location","hash","indexOf","startTracking","gtm","dealerGtm","processCommand","data","fn","args","setPagename","slice","apply","push","Array","prototype","arguments","forEach","module","exports","cmp","run","console","log","isCmpEnabled","loadCmpStubSync","loadCmpAsync","updateDataLayerAndCacheOnConsentChange","sendMetricsOnEvents","waitForConsentIfNeeded","then","merge","containerId","hostname","viewport","pagename","pn","generateCommonParams","mergedPagename","country","market","category","pageid","environment","Error","JSON","stringify","commonPageName","group","filter","x","join","layer","commonData","common_country","common_market","common_category","common_pageid","common_pageName","common_environment","common_language","language","common_group","common_layer","common_attribute","attribute","common_linkgroup","linkgroup","common_linkid","linkid","common_techState","techState","trackClick","params","eventcategory","eventaction","event","event_category","event_action","event_label","eventlabel","event_non_interaction","firstPageview","trackPageview","setTimeout","loadContainer","set","pageview","click","extend","call","unshift","isObject","obj","source","prop","i","length","type","dataLayer","useNewArrayLogic","href","gtmAlreadyLoadedClassName","alreadyInitiatedMainGtmContainerLoaded","document","documentElement","className","w","d","s","l","Date","getTime","f","getElementsByTagName","j","createElement","dl","async","src","parentNode","insertBefore","map","key","toLower","val","toLowerCase","containerIdsByTld","de","at","be","lu","es","fr","it","nl","com","tld","split","pop","viewportWidth","Math","min","clientWidth","innerWidth","screen","width","session_viewport","currentVehicles","add","commit","list_productidsall","as24tracking","Object","create","HTMLElement","inDev","supportedActions","supportedTypes","reservedWords","attachedCallback","values","getAdditionalProperties","getAttribute","action","keys","splice","clickTarget","elements","querySelectorAll","addEventListener","track","trackingValue","parse","isArray","attributes","element","nodeName","reduce","prev","curr","attrName","decodeAttributeName","nodeValue","replace","g","toUpperCase","ctor","constructor","HTMLUnknownElement","registerElement","e","warn","once","consentCacheKey","script","ref","Promise","resolve","trySetDataLayerVariablesFromCache","handler","__cmp","waitForFirstCmpDecision","getAllConsents","all","vendorConsents","additionalVendorConsents","setDataLayerConsents","localStorage","setItem","cmpReady","consentDataExists","exists","cache","getItem","events","sendMetrics","facebookConsent","purposeConsents","googleAnalyticsConsent","googleAdsConsent","bingConsent","mouseFlowConsent","cmp_facebook_consent","cmp_googleAnalytics_consent","cmp_googleAds_consent","cmp_bing_consent","cmp_mouseFlow_consent","name","fetch","method","headers","Accept","body","metrics","tags","service","executed","faktorCmpStart","start","listen","attachEvent","receiveMessage","addLocatorFrame","frames","frame","style","display","appendChild","commandQueue","command","parameter","callback","gdprAppliesGlobally","config","storeConsentGlobally","cmpLoaded","__cmpCall","callId"],"mappings":"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","file":"./docs/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b30ba97ac33118192e76","var tracking = require('../../src/index.js');\nwindow.ut = tracking.ut || [];\n\n\n\n// WEBPACK FOOTER //\n// ./docs/src/main.js","const trackingEnabled = location.hash.indexOf('tracking-off=true') < 0;\n\nconst startTracking = () => {\n    var gtm = require('./gtm');\n    var dealerGtm = require('./dealer-gtm');\n\n    function processCommand(data) {\n        var fn, args;\n\n        if (data[0] === 'pagename') {\n            gtm.setPagename(data[1]);\n        }\n\n        if (data[0] === 'gtm') {\n            fn = gtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(gtm, args);\n            }\n        } else if (data[0] === 'dealer-gtm') {\n            fn = dealerGtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(dealerGtm, args);\n            }\n        }\n    }\n\n    var ut = window.ut || (window.ut = []);\n\n    if (ut.push === Array.prototype.push) {\n        ut.push = function () {\n            Array.prototype.push.apply(window.ut, arguments);\n            processCommand.apply({}, arguments);\n        };\n\n        ut.forEach(processCommand);\n    }\n\n    require('./trackingElement');\n\n    module.exports = {\n        gtm: gtm,\n        ut: ut,\n    };\n};\n\nconst cmp = require('./cmp');\n\nconst run = () => {\n    if (!trackingEnabled) {\n        console.log('Tracking disabled');\n        return;\n    }\n\n    if (!cmp.isCmpEnabled()) {\n        startTracking();\n        return;\n    }\n\n    // We load the CMP and do some magic here\n    cmp.loadCmpStubSync(); // defines window.__cmp as a queue\n    cmp.loadCmpAsync();\n\n    // window.__cmp('addEventListener', 'cmpReady', () => {\n    // When consent changes we update dataLayer and localStorage.__as24_cached_cmp_consent\n    cmp.updateDataLayerAndCacheOnConsentChange();\n\n    cmp.sendMetricsOnEvents();\n\n    cmp.waitForConsentIfNeeded().then(() => startTracking());\n\n    // if (cmp.trySetDataLayerVariablesFromCache()) {\n    //     // We have consent data in cache so we can proceed loading GTM\n    //     startTracking();\n    // } else {\n    //     // We don't have previous consent in cache therefore we are waiting for getting one\n    //     // This is to avoid losing important conversion tracking events: Google Ads, Facebook\n    //     // which are fired directly in the pageview\n    //     cmp.waitForFirstCmpDecision().then(() => {\n    //         startTracking();\n    //     });\n    // }\n};\n\nrun();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var merge = require('amp-merge');\n\nvar gtm = require('./googletagmanager');\nvar containerId = require('./getGtmContainerId')(location.hostname);\nvar viewport = require('./viewport');\n\nvar pagename;\n\nfunction setPagename(pn) {\n    pagename = pn;\n}\n\nfunction generateCommonParams(data) {\n    var mergedPagename = merge({}, pagename, data);\n\n    if (\n        !mergedPagename ||\n        !mergedPagename.country ||\n        !mergedPagename.market ||\n        !mergedPagename.category ||\n        !mergedPagename.pageid ||\n        !mergedPagename.environment\n    ) {\n        if (mergedPagename.environment !== 'test' || mergedPagename.environment !== 'live') {\n            throw new Error('Invalid environment type, ' + JSON.stringify(mergedPagename));\n        }\n        throw new Error('Incorrect pagename, ' + JSON.stringify(mergedPagename));\n    }\n\n    var commonPageName = [\n        mergedPagename.country,\n        mergedPagename.market,\n        mergedPagename.category,\n        mergedPagename.group,\n        mergedPagename.pageid,\n    ]\n        .filter(function (x) {\n            return x;\n        })\n        .join('/');\n\n    if (mergedPagename.layer) {\n        commonPageName += '|' + mergedPagename.layer;\n    }\n\n    var commonData = {\n        common_country: mergedPagename.country,\n        common_market: mergedPagename.market,\n        common_category: mergedPagename.category,\n        common_pageid: mergedPagename.pageid,\n        common_pageName: commonPageName,\n        common_environment: mergedPagename.environment,\n\n        common_language: mergedPagename.language || '',\n        common_group: mergedPagename.group || '',\n        common_layer: mergedPagename.layer || '',\n        common_attribute: mergedPagename.attribute || '',\n\n        common_linkgroup: mergedPagename.linkgroup || '',\n        common_linkid: mergedPagename.linkid || '',\n\n        common_techState: mergedPagename.techState || '',\n    };\n\n    return commonData;\n}\n\nfunction trackClick(params) {\n    if (params.eventcategory && params.eventaction) {\n        gtm.push({\n            event: 'event_trigger',\n            event_category: params.eventcategory,\n            event_action: params.eventaction,\n            event_label: params.eventlabel || '',\n            event_non_interaction: false,\n        });\n    } else {\n        //DEPRECATED\n        gtm.push(generateCommonParams(params));\n        gtm.push({\n            event: 'click',\n        });\n    }\n}\n\nvar firstPageview = true;\n\nfunction trackPageview(data) {\n    if (firstPageview) {\n        gtm.push(viewport);\n    }\n\n    gtm.push(generateCommonParams(data));\n\n    setTimeout(function () {\n        if (firstPageview) {\n            gtm.loadContainer(containerId);\n\n            gtm.push({\n                event: 'common_data_ready',\n            });\n            gtm.push({\n                event: 'data_ready',\n            });\n            firstPageview = false;\n        } else {\n            gtm.push({\n                event: 'pageview',\n            });\n        }\n    }, 10);\n}\n\nmodule.exports = {\n    setPagename: setPagename,\n    trackClick: trackClick,\n\n    set: gtm.push,\n    pageview: trackPageview,\n    click: trackClick,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/index.js","var extend = require('amp-extend');\n\nmodule.exports = function merge() {\n    var args = [].slice.call(arguments);\n    args.unshift({});\n    return extend.apply(this, args);\n};\n\n\n// WEBPACK FOOTER //\n// ./~/amp-merge/merge.js","var isObject = require('amp-is-object');\n\n\nmodule.exports = function(obj) {\n    if (!isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            obj[prop] = source[prop];\n        }\n    }\n    return obj;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-extend/extend.js","module.exports = function isObject(obj) {\n    var type = typeof obj;\n    return !!obj && (type === 'function' || type === 'object');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-is-object/is-object.js","var dataLayer = (window.dataLayer = window.dataLayer || []);\nvar useNewArrayLogic = window.location.href.indexOf('tracking-arrays=true') >= 0;\n\nmodule.exports = {\n    loadContainer: function (containerId) {\n        var gtmAlreadyLoadedClassName = 'gtm-main-container-load-initiated';\n        var alreadyInitiatedMainGtmContainerLoaded =\n            document.documentElement.className.indexOf(gtmAlreadyLoadedClassName) >= 0;\n\n        if (alreadyInitiatedMainGtmContainerLoaded) {\n            // preventing duplicated load of main GTM container\n            return;\n        }\n\n        document.documentElement.className += ' ' + gtmAlreadyLoadedClassName;\n\n        (function (w, d, s, l, i) {\n            w[l] = w[l] || [];\n            w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\n            var f = d.getElementsByTagName(s)[0],\n                j = d.createElement(s),\n                dl = l != 'dataLayer' ? '&l=' + l : '';\n            j.async = true;\n            j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;\n            f.parentNode.insertBefore(j, f);\n        })(window, document, 'script', 'dataLayer', containerId);\n    },\n\n    push: function () {\n        if (!arguments.length) {\n            return;\n        }\n\n        var args = [].slice.call(arguments);\n\n        args.map(function (data) {\n            for (var key in data) {\n                if (!useNewArrayLogic || typeof data[key] === 'string') {\n                    data[key] = toLower(data[key]);\n                }\n            }\n\n            return data;\n        });\n\n        dataLayer.push.apply(dataLayer, args);\n    },\n};\n\nfunction toLower(val) {\n    return val && ('' + val).toLowerCase();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/googletagmanager.js","var containerIdsByTld = {\n    de: 'GTM-MK57H2',\n    at: 'GTM-WBZ87G',\n    be: 'GTM-5BWB2M',\n    lu: 'GTM-NDBDCZ',\n    es: 'GTM-PS6QHN',\n    fr: 'GTM-PD93LD',\n    it: 'GTM-WTCSNR',\n    nl: 'GTM-TW48BJ',\n    com: 'GTM-KWX9NX',\n};\n\nmodule.exports = function (hostname) {\n    var tld = hostname.split('.').pop();\n    return containerIdsByTld[tld] || containerIdsByTld['com'];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/getGtmContainerId.js","var viewportWidth = Math.min(document.documentElement.clientWidth, window.innerWidth || screen.width);\n\nmodule.exports = {\n    session_viewport: viewportWidth >= 994 ? 'l' : viewportWidth >= 768 ? 'm' : viewportWidth >= 480 ? 's' : 'xs',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/viewport.js","var currentVehicles = [];\n\nfunction add(data) {\n    currentVehicles.push(data);\n}\n\nfunction commit() {\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push({\n        list_productidsall: currentVehicles,\n    });\n\n    currentVehicles = [];\n}\n\nmodule.exports = {\n    add: add,\n    commit: commit,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/dealer-gtm.js","var as24tracking = Object.assign(Object.create(HTMLElement.prototype), {\n    inDev: false,\n    supportedActions: ['set', 'click', 'pageview'],\n    supportedTypes: ['gtm', 'pagename'],\n    reservedWords: ['type', 'action', 'as24-tracking-value', 'as24-tracking-click-target'],\n\n    attachedCallback() {\n        var values = this.getAdditionalProperties();\n        var type = this.getAttribute('type');\n        var action = this.getAttribute('action');\n        var args = [type, action];\n\n        if (Object.keys(values).length > 0) {\n            args.push(values);\n        }\n\n        if (type === 'pagename') {\n            args.splice(1, 1);\n        }\n\n        var clickTarget = this.getAttribute('as24-tracking-click-target');\n        if (clickTarget) {\n            var elements = document.querySelectorAll(clickTarget);\n\n            for (var i = 0; i < elements.length; i++) {\n                elements[i].addEventListener('click', () => this.track(args));\n            }\n        } else {\n            this.track(args);\n        }\n    },\n\n    getAdditionalProperties() {\n        var trackingValue = this.getAttribute('as24-tracking-value');\n        var values = trackingValue ? JSON.parse(trackingValue) : {};\n\n        if (Array.isArray(values)) {\n            return values;\n        }\n\n        return Array.prototype.slice\n            .call(this.attributes)\n            .filter((element) => !(this.reservedWords.indexOf(element.nodeName) > -1))\n            .reduce((prev, curr) => {\n                var attrName = this.decodeAttributeName(curr.nodeName);\n                prev[attrName] = curr.nodeValue;\n                return prev;\n            }, values);\n    },\n\n    decodeAttributeName(attrName) {\n        if (attrName.indexOf('-') > -1) {\n            attrName = attrName.replace(/-([a-z])/g, function (g) {\n                return g[1].toUpperCase();\n            });\n        }\n        return attrName;\n    },\n\n    track(args) {\n        if (this.inDev) {\n            console.log(args);\n        } else {\n            window.ut = window.ut || [];\n            window.ut.push(args);\n        }\n    },\n});\n\ntry {\n    var ctor = document.createElement('as24-tracking').constructor;\n    if (ctor === HTMLElement || ctor === HTMLUnknownElement) {\n        document.registerElement('as24-tracking', {\n            prototype: as24tracking,\n        });\n    }\n} catch (e) {\n    if (window && window.console) {\n        window.console.warn('Failed to register CustomElement \"as24-tracking\".', e);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/trackingElement.js","const { once } = require('./util');\n\nconst consentCacheKey = '__cmp_consent_cache';\n\nmodule.exports.loadCmpStubSync = () => {\n    require('./liveramp-stub');\n};\n\nmodule.exports.loadCmpAsync = once(() => {\n    const script = document.createElement('script');\n    const ref = document.getElementsByTagName('script')[0];\n    ref.parentNode.insertBefore(script, ref);\n    script.src = 'https://config-prod.choice.faktor.io/ea93c094-1e43-49f8-8c62-75128f08f70b/faktor.js';\n});\n\nmodule.exports.isCmpEnabled = () => {\n    return location.href.indexOf('__cmp') >= 0;\n};\n\nmodule.exports.waitForConsentIfNeeded = () => {\n    return new Promise((resolve) => {\n        if (trySetDataLayerVariablesFromCache()) {\n            resolve();\n            return;\n        }\n\n        const handler = (e) => {\n            window.__cmp('consentDataExist', null, (d) => {\n                if (d === true) {\n                    window.__cmp('removeEventListener', 'consentChanged', handler);\n                    resolve();\n                }\n            });\n        };\n\n        window.__cmp('addEventListener', 'consentChanged', handler);\n    });\n};\n\nmodule.exports.waitForFirstCmpDecision = () => {\n    return new Promise((resolve) => {\n        const handler = (e) => {\n            window.__cmp('consentDataExist', null, (d) => {\n                if (d === true) {\n                    window.__cmp('removeEventListener', 'consentChanged', handler);\n                    resolve();\n                }\n            });\n        };\n\n        window.__cmp('addEventListener', 'consentChanged', handler);\n    });\n};\n\nfunction getAllConsents() {\n    return Promise.all([\n        new Promise((resolve) => window.__cmp('getVendorConsents', null, resolve)),\n        new Promise((resolve) => window.__cmp('getAdditionalVendorConsents', null, resolve)),\n    ]);\n}\n\nmodule.exports.updateDataLayerAndCacheOnConsentChange = () => {\n    window.__cmp('addEventListener', 'consentChanged', (e) => {\n        getAllConsents().then(([vendorConsents, additionalVendorConsents]) => {\n            setDataLayerConsents(vendorConsents, additionalVendorConsents);\n            localStorage.setItem(consentCacheKey, JSON.stringify({ vendorConsents, additionalVendorConsents }));\n        });\n    });\n\n    // For safety we update the cache and the dataLayer every time when the cmp loads\n    cmpReady().then(() => {\n        consentDataExists().then((exists) => {\n            if (exists) {\n                console.log('Consent data exists');\n                getAllConsents().then(([vendorConsents, additionalVendorConsents]) => {\n                    setDataLayerConsents(vendorConsents, additionalVendorConsents);\n                    localStorage.setItem(consentCacheKey, JSON.stringify({ vendorConsents, additionalVendorConsents }));\n                });\n            }\n        });\n    });\n};\n\nmodule.exports.trySetDataLayerVariablesFromCache = () => {\n    try {\n        const cache = JSON.parse(localStorage.getItem(consentCacheKey));\n        setDataLayerConsents(cache.vendorConsents, cache.additionalVendorConsents);\n        return true;\n    } catch (e) {\n        return false;\n    }\n};\n\nfunction trySetDataLayerVariablesFromCache() {\n    try {\n        const cache = JSON.parse(localStorage.getItem(consentCacheKey));\n        setDataLayerConsents(cache.vendorConsents, cache.additionalVendorConsents);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction cmpReady() {\n    return new Promise((resolve) => {\n        const handler = (e) => {\n            window.__cmp('removeEventListener', 'cmpReady', handler);\n            resolve(e);\n        };\n\n        window.__cmp('addEventListener', 'cmpReady', handler);\n    });\n}\n\nfunction consentDataExists() {\n    return new Promise((resolve) => {\n        window.__cmp('consentDataExist', null, (x) => {\n            resolve(x);\n        });\n    });\n}\n\nmodule.exports.sendMetricsOnEvents = () => {\n    const events = [\n        'faktorIdChanged',\n        'acceptAllButtonClicked',\n        'rejectAllButtonClicked',\n        'exitButtonClicked',\n        'privacySettingsButtonClicked',\n        'disabledCookies',\n        'consentManagerDisplayed',\n        'consentManagerClosed',\n        'consentWallDisplayed',\n        'consentWallClosed',\n    ];\n\n    events.forEach((event) => window.__cmp('addEventListener', event, () => sendMetrics(event)));\n};\n\nfunction setDataLayerConsents(vendorConsents, additionalVendorConsents) {\n    const facebookConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[2] &&\n        vendorConsents.purposeConsents[3] &&\n        vendorConsents.purposeConsents[5] &&\n        additionalVendorConsents.vendorConsents[16];\n\n    const googleAnalyticsConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[5] &&\n        additionalVendorConsents.vendorConsents[4];\n\n    const googleAdsConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[2] &&\n        vendorConsents.purposeConsents[3] &&\n        vendorConsents.purposeConsents[5] &&\n        additionalVendorConsents.vendorConsents[91];\n\n    const bingConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[2] &&\n        vendorConsents.purposeConsents[3] &&\n        vendorConsents.purposeConsents[4] &&\n        vendorConsents.purposeConsents[5] &&\n        additionalVendorConsents.vendorConsents[21];\n\n    const mouseFlowConsent =\n        vendorConsents &&\n        vendorConsents.purposeConsents[1] &&\n        vendorConsents.purposeConsents[5] &&\n        additionalVendorConsents.vendorConsents[223];\n\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push({\n        cmp_facebook_consent: facebookConsent,\n        cmp_googleAnalytics_consent: googleAnalyticsConsent,\n        cmp_googleAds_consent: googleAdsConsent,\n        cmp_bing_consent: bingConsent,\n        cmp_mouseFlow_consent: mouseFlowConsent,\n    });\n}\n\nfunction sendMetrics(name) {\n    fetch('/frontend-metrics/timeseries', {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n            metrics: [\n                {\n                    type: 'increment',\n                    name: 'showcar-tracking-cmp-' + name,\n                    tags: { service: 'showcar-tracking' },\n                },\n            ],\n        }),\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cmp.js","module.exports.once = (fn) => {\n    let executed = false;\n    return () => {\n        if (!executed) {\n            executed = true;\n            fn();\n        }\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","if (!window.__cmp || typeof window.__cmp !== 'function') {\n    var faktorCmpStart = window.__cmp ? window.__cmp.start : {};\n\n    window.__cmp = (function () {\n        var listen = window.attachEvent || window.addEventListener;\n        listen('message', function (event) {\n            window.__cmp.receiveMessage(event);\n        });\n\n        function addLocatorFrame() {\n            if (!window.frames['__cmpLocator']) {\n                if (document.body) {\n                    var frame = document.createElement('iframe');\n                    frame.style.display = 'none';\n                    frame.name = '__cmpLocator';\n                    document.body.appendChild(frame);\n                } else {\n                    setTimeout(addLocatorFrame, 5);\n                }\n            }\n        }\n\n        addLocatorFrame();\n\n        var commandQueue = [];\n        var cmp = function (command, parameter, callback) {\n            if (command === 'ping') {\n                if (callback) {\n                    callback({\n                        gdprAppliesGlobally: !!(\n                            window.__cmp &&\n                            window.__cmp.config &&\n                            window.__cmp.config.storeConsentGlobally\n                        ),\n                        cmpLoaded: false,\n                    });\n                }\n            } else {\n                commandQueue.push({\n                    command: command,\n                    parameter: parameter,\n                    callback: callback,\n                });\n            }\n        };\n        cmp.commandQueue = commandQueue;\n        cmp.receiveMessage = function (event) {\n            var data = event && event.data && event.data.__cmpCall;\n            if (data) {\n                commandQueue.push({\n                    callId: data.callId,\n                    command: data.command,\n                    parameter: data.parameter,\n                    event: event,\n                });\n            }\n        };\n\n        return cmp;\n    })();\n\n    window.__cmp.start = faktorCmpStart;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/liveramp-stub.js"],"sourceRoot":""}